#:set tab_config_content_size 1280, 910
#:set widget_config_size 300, 100

<TabConfigs>:
	# Load tab configs wheel icon.
	canvas:
		Rectangle:
			source: 'imgs/configs_icon.png'
			size: 40, 40
			pos: self.pos

	# Hold all tab configs content.
	FloatLayout:	
		size_hint: None, None
		size: tab_config_content_size
		pos: root.pos
		
		canvas.before:
			Color:
				rgba: 0, 1, .7, 0.3
			Rectangle:
				pos: self.pos
				size:self.size

		UserDataBox:
			id: user_data_box
			size_hint: None, None
			size: self.minimum_size
			pos: (tab_config_content_size[0]/2) - self.size[0]/2, 600
			
			
			# Box used to hold all fields with user data.
			TextInputBox:
				id: text_input_box
				size: self.minimum_size
				
				UserDataTextInput:
					disabled:True
				UserDataTextInput:
				UserDataTextInput:
					text_validate_unfocus:False
				UserDataTextInput:
				UserDataTextInput:
					password: True
				
			# Labels to show to user what every field is.
			BoxLabel:
				id: box_label
				size: text_input_box.size[0]/2, text_input_box.size[1] 
				spacing: 5
				on_touch_down:
					#self.print_size()
				canvas.after:
					Color:
						rgba: 1, 0, .2, 0.6
					Rectangle:
						pos: self.pos
						size:self.size	
					
		
		# Hold boxes with user configs.
		GridLayout:
			orientation:'lr-tb'
			size_hint:None,None
			cols: 3
			size: self.minimum_size
			pos: (tab_config_content_size[0] / 2) - (self.width/2), 200
			
			# Config Labels
			BoxConfigs:
				size: self.minimum_size
				
				canvas.before:
					Color:
						rgba: 1, .3, .7, 1
					Rectangle:
						pos: self.pos
						size:self.size

				LabelConfigs:
					id:label_font
					text: 'Fonte: '	
					font_size: s1.value					
				LabelConfigs:
					text: 'Scatter: '
					font_size: s1.value
				LabelConfigs:
					text: 'Fonte: '
					font_size: s1.value
			
			# Widgets used to change configs.
			BoxConfigs:
				size: self.minimum_size
				canvas.before:
					Color:
						rgba: 0, .3, .7, 1
					Rectangle:
						pos: self.pos
						size:self.size
				
				Slider:
					id: s1
					size_hint: None, None
					size: widget_config_size
					range: 10, 50
					step: 1

				Switch:
					id:switch_scatter
					size_hint: None, None
					size: widget_config_size
						
				Widget:
					size_hint: None, None
					size: widget_config_size
			
			# Label complement.
			BoxConfigs:
				size: self.minimum_size
			
				canvas.before:
					Color:
						rgba: 0.6, 0.4, .7, 1
					Rectangle:
						pos: self.pos
						size:self.size
			
				LabelConfigs:
					id: input_font
					size: 40, 100
					text: '{}'.format(int(s1.value))
		
				LabelConfigs:
					size: 40, 100
				LabelConfigs:
					
		# Change to default values.
		BoxLayout:
			Button:
				size_hint: None, None
				size: 200, 100
				text: 'Configuracao Padrao'
				on_press:
					root.create_popup_save()
					
			Button:
				size_hint: None, None
				size: 200, 100
				text: 'Salvar'
				on_press:
					root.save()


		LabelConfigs:
			id: label_feedback
			text: ""
			pos: 900, 100
			font_size: s1.value
			bold: True
			color: 1,0,0,1
			

<LabelConfigs@Label>:
	size_hint: None, None
	width: 200
	#size: 40, 100
	
<BoxConfigs@BoxLayout>:
	size_hint: None, None
	orientation: 'vertical'
					
<ConfirmConfigs>:
	size_hint: None, None
	size: 100, 40
	#pos: root.pos[0] + root.width - self.width, root.pos[1] + root.height + 5	

	BoxLayout:
		pos: root.pos
		Button:
			text:'Sim'
			on_press:
				root.set_default_configs(True)
		
		Button:
			text:'Nao'			
			on_press:
				root.set_default_configs(False)
				
				
				
<UserDataTextInput@TextInput>:
	size_hint: None, None
	size: 300, 50
	multiline: False
	on_focus:
		self.parent.get_new_user_data(self)