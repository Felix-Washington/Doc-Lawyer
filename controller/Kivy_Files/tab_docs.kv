#:set float_area_size 980, 910
#:set global_position 0, 0

<TabDocs>:
	FloatLayout:
		AccordionArea:	
		FloatArea:
		
			
<AccordionArea>:
	id:acc_area
	AccordionCategories:
	AccordionCategories:
	AccordionCategories:

<FloatArea@FloatLayout>:
	size_hint: None, None
	size: float_area_size
	pos: global_position[0] + 300, global_position[1]
	
	GridAreaButtons:
		id: grid_area_buttons
		size: float_area_size[0], 40
		pos:root.pos[0], float_area_size[1] - self.height
		
		Button:
			text: 'Download'
			on_press: 
				root.children[1].show_save()
		Button:
		Button:
		
	BoxLayout:		
		size_hint: None, None
		size: float_area_size[0], (float_area_size[1]  - root.ids.grid_area_buttons.size[1]) 
		pos: root.pos
		
		canvas.before:
			Color:
				rgba: 0, 0, 0, .3
			Rectangle:
				pos: self.pos
				size:self.size
			
		PdfView:
			size_hint: None, None
			size: self.parent.size
			pos: self.parent.pos
			canvas.before:
				Color:
					rgba: 0, 0, 1, .3
				Rectangle:
					pos: self.pos
					size:self.size

			BoxPdfPages:
				size: self.parent.size
				#height: self.minimum_height
				canvas.before:
					Color:
						rgba: 1, 0, 0, .3
					Rectangle:
						pos: self.pos
						size:self.size

					
<SaveDialog>:
    text_input: text_input
	
	BoxLayout:
		size_hint: None, None
		size: 100, 30
		pos: root.pos[0] + root.width - self.width, root.pos[1] + root.height + 5

		ToggleButtonDownload:
			text: 'Lista'
			state: 'down'
			on_release:
				#filechooser.view_mode = 'list'
		ToggleButtonDownload:
			text: 'Icone'
			on_release: filechooser.view_mode = 'icon'
	
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooser:
            id: filechooser
			filters: [lambda folder, filename: not filename.endswith('')]
			path: 'C:/Users/Felix/Documents'
			#filters: [root.is_sys]
			on_selection: text_input.text = self.selection and self.selection[0] or ''

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False
			text: 'Modelo.pdf'

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)

<ToggleButtonDownload@ToggleButton>:
	size_hint: None, None
	size: self.parent.size[0]/2, self.parent.size[1]
	group: 'filechooser'

<FileChooser>:
	FileChooserListLayout
	FileChooserIconLayout

<Grid_Buttons>:
	size_hint_y: None
	height: self.minimum_height
	orientation: "vertical"


<AccordionCategories@AccordionItem>:
	ScrollView:
		always_overscroll: False
		Grid_Buttons:

